### YamlMime:UniversalReference
items:
  - uid: '@azure/batch.MultiInstanceSettings'
    name: MultiInstanceSettings
    fullName: MultiInstanceSettings
    children:
      - '@azure/batch.MultiInstanceSettings.commonResourceFiles'
      - '@azure/batch.MultiInstanceSettings.coordinationCommandLine'
      - '@azure/batch.MultiInstanceSettings.numberOfInstances'
    langs:
      - typeScript
    type: interface
    summary: '<span data-ttu-id="7f19e-101">多实例任务通常用于支持 MPI 任务。</span><span class="sxs-lookup"><span data-stu-id="7f19e-101">Multi-instance tasks are commonly used to support MPI tasks.</span></span> <span data-ttu-id="7f19e-102">MPI 情况下，如果任何子任务失败 （例如由于以非零退出代码退出） 整个多实例任务失败。</span><span class="sxs-lookup"><span data-stu-id="7f19e-102">In the MPI case, if any of the subtasks fail (for example due to exiting with a non-zero exit code) the entire multi-instance task fails.</span></span> <span data-ttu-id="7f19e-103">然后终止并重试多实例任务，直到到达重试限制为止。</span><span class="sxs-lookup"><span data-stu-id="7f19e-103">The multi-instance task is then terminated and retried, up to its retry limit.</span></span>'
    package: '@azure/batch'
  - uid: '@azure/batch.MultiInstanceSettings.commonResourceFiles'
    name: commonResourceFiles
    fullName: commonResourceFiles
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="7f19e-104">批处理服务将在运行协调命令行之前下载的文件的列表。</span><span class="sxs-lookup"><span data-stu-id="7f19e-104">A list of files that the Batch service will download before running the coordination command line.</span></span> <span data-ttu-id="7f19e-105">通用资源文件和任务资源文件之间的区别是通用资源文件为所有子任务，包括主要副本，下载，而仅用于主下载任务资源文件。</span><span class="sxs-lookup"><span data-stu-id="7f19e-105">The difference between common resource files and task resource files is that common resource files are downloaded for all subtasks including the primary, whereas task resource files are downloaded only for the primary.</span></span> <span data-ttu-id="7f19e-106">此外请注意，这些资源文件未下载到任务工作目录，但会将其下载到任务根目录 （已完成的工作目录的上一个目录）。</span><span class="sxs-lookup"><span data-stu-id="7f19e-106">Also note that these resource files are not downloaded to the task working directory, but instead are downloaded to the task root directory (one directory above the working directory).</span></span>  <span data-ttu-id="7f19e-107">没有资源文件的列表的最大大小。</span><span class="sxs-lookup"><span data-stu-id="7f19e-107">There is a maximum size for the list of resource files.</span></span>  <span data-ttu-id="7f19e-108">当超过最大大小时，则请求将失败，并且响应错误代码将是 RequestEntityTooLarge。</span><span class="sxs-lookup"><span data-stu-id="7f19e-108">When the max size is exceeded, the request will fail and the response error code will be RequestEntityTooLarge.</span></span> <span data-ttu-id="7f19e-109">如果发生这种情况，必须在大小减少的 ResourceFiles 集合。</span><span class="sxs-lookup"><span data-stu-id="7f19e-109">If this occurs, the collection of ResourceFiles must be reduced in size.</span></span> <span data-ttu-id="7f19e-110">这可以实现使用.zip 文件、 应用程序包或 Docker 容器。</span><span class="sxs-lookup"><span data-stu-id="7f19e-110">This can be achieved using .zip files, Application Packages, or Docker Containers.</span></span>'
    optional: true
    syntax:
      content: 'commonResourceFiles?: ResourceFile[]'
      return:
        type:
          - '@azure/batch.ResourceFile[]'
    package: '@azure/batch'
  - uid: '@azure/batch.MultiInstanceSettings.coordinationCommandLine'
    name: coordinationCommandLine
    fullName: coordinationCommandLine
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="7f19e-111">用于主数据库上的所有计算节点，以使他们能够协调时运行的命令行运行主任务命令。</span><span class="sxs-lookup"><span data-stu-id="7f19e-111">The command line to run on all the compute nodes to enable them to coordinate when the primary runs the main task command.</span></span> <span data-ttu-id="7f19e-112">典型的协调命令行启动后台服务，并验证服务已准备好处理节点间消息。</span><span class="sxs-lookup"><span data-stu-id="7f19e-112">A typical coordination command line launches a background service and verifies that the service is ready to process inter-node messages.</span></span>
    syntax:
      content: 'coordinationCommandLine: string'
      return:
        type:
          - string
    package: '@azure/batch'
  - uid: '@azure/batch.MultiInstanceSettings.numberOfInstances'
    name: numberOfInstances
    fullName: numberOfInstances
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="7f19e-113">任务所需的计算节点数。</span><span class="sxs-lookup"><span data-stu-id="7f19e-113">The number of compute nodes required by the task.</span></span> <span data-ttu-id="7f19e-114">如果省略，默认值为 1。</span><span class="sxs-lookup"><span data-stu-id="7f19e-114">If omitted, the default is 1.</span></span>'
    optional: true
    syntax:
      content: 'numberOfInstances?: undefined | number'
      return:
        type:
          - undefined | number
    package: '@azure/batch'
references:
  - uid: '@azure/batch.ResourceFile[]'
    name: 'ResourceFile[]'
    spec.typeScript:
      - name: ResourceFile
        fullName: ResourceFile
        uid: '@azure/batch.ResourceFile'
      - name: '[]'
        fullName: '[]'