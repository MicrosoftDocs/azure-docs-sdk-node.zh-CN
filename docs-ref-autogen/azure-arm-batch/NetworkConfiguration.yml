### YamlMime:UniversalReference
ms.openlocfilehash: a9f71af819e984aff15e0a57f968ec78e2dc79d8
ms.sourcegitcommit: 0e294f7c4dcdfae9df18ff3e82b6563680ef2519
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/25/2019
ms.locfileid: "55054738"
items:
- uid: azure-arm-batch.NetworkConfiguration
  name: NetworkConfiguration
  fullName: NetworkConfiguration
  children:
  - azure-arm-batch.NetworkConfiguration.endpointConfiguration
  - azure-arm-batch.NetworkConfiguration.subnetId
  langs:
  - typeScript
  type: interface
  summary: 池网络配置。
  package: azure-arm-batch
- uid: azure-arm-batch.NetworkConfiguration.endpointConfiguration
  name: endpointConfiguration
  fullName: endpointConfiguration
  children: []
  langs:
  - typeScript
  type: property
  summary: 具有 virtualMachineConfiguration 属性的池才支持池终结点配置。
  optional: true
  syntax:
    content: 'endpointConfiguration?: PoolEndpointConfiguration'
    return:
      type:
      - azure-arm-batch.PoolEndpointConfiguration
  package: azure-arm-batch
- uid: azure-arm-batch.NetworkConfiguration.subnetId
  name: subnetId
  fullName: subnetId
  children: []
  langs:
  - typeScript
  type: property
  summary: >-
    虚拟网络必须是同一区域和订阅与 Azure Batch 帐户中。 指定的子网应有足够可用的 IP 地址来应对池中的节点数。 如果子网没有足够的可用 IP 地址，池将部分分配计算节点，并且会调整大小错误。 为指定的 VNet，MicrosoftAzureBatch 服务主体必须具有经典虚拟机参与者基于角色的访问控制 (RBAC) 角色。 指定的子网必须允许来自 Azure Batch 服务能够计算节点上计划任务的通信。

    这可以通过检查是否指定的 VNet 具有任何关联的网络安全组 (NSG) 来进行验证。 如果 nsg 拒绝指定的子网中的计算节点通信，然后 Batch 服务将设置计算节点的状态为不可用。 对于通过 virtualMachineConfiguration 创建批处理池帐户必须具有 poolAllocationMode userSubscription，才能使用 VNet。 如果指定的 VNet 存在关联的网络安全组 (NSG)，则必须为入站通信启用数个保留的系统端口。 对于使用虚拟机配置创建的池，请启用端口 29876 和 29877，以及端口 22（适用于 Linux）和 3389（适用于 Windows）。 对于使用云服务配置创建的池，请启用端口 10100、20100 和 30100。 此外启用出站连接到端口 443 上的 Azure 存储。 有关更多详细信息，请参阅： https://docs.microsoft.com/en-us/azure/batch/batch-api-basics#virtual-network-vnet-and-firewall-configuration
  optional: true
  syntax:
    content: 'subnetId?: string'
    return:
      type:
      - string
  package: azure-arm-batch
references:
- uid: azure-arm-batch.PoolEndpointConfiguration
  name: PoolEndpointConfiguration
  spec.typeScript:
  - name: PoolEndpointConfiguration
    fullName: PoolEndpointConfiguration
    uid: azure-arm-batch.PoolEndpointConfiguration
